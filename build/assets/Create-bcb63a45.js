import{r as j,W as C,j as e,a as w}from"./app-e59b4425.js";import{A as k}from"./AuthenticatedLayout-37843d7a.js";import{I}from"./IconUserPlus-6167f130.js";import{I as S}from"./IconTrash-67ba9558.js";import"./createReactComponent-b7d89a71.js";import"./index-5c5e5c96.js";function $(u){const[c,o]=j.useState([{id:1,username:"",password:"",role:"Staff"}]),m=j.useState([u.modules]),{data:t,setData:r,post:f,processing:p,errors:E,reset:R}=C({name:"",phone:"",city:"",country:"",address:"",email:"",fax:"",code:"",logo:"",users:c,modules:m[0][0]}),n=s=>{r(s.target.name,s.target.value)},N=s=>{console.log(s.target.files[0]),r(s.target.name,s.target.files[0])},v=s=>{s.preventDefault(),f(route("centres.store"))},h=(s,a)=>{document.getElementById("basic-information").style.display="none",document.getElementById("users").style.display="none",document.getElementById("modules").style.display="none",document.getElementById(a).style.display="block"},g=()=>{const s={id:c.length+1,username:"",password:"",role:"Staff"};o([...c,s])},x=(s,a,l)=>{const d=c.map(i=>i.id===l?{...i,[a]:s.target.value}:i);o(d),r("users",d)},y=s=>{const a=c.filter(l=>l.id!==s);o(a)},b=(s,a,l)=>{let d=s.target.checked?"On":"Off",i=s.target.checked;m[0][0][l].status=i,r("modules",m[0][0]),document.getElementById(`switchlabel${l}`).innerHTML=d};return e.jsxs(k,{user:u.auth.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Centres Management"}),children:[e.jsx(w,{title:"Centres Management"}),e.jsx("div",{className:"page-header d-print-none",children:e.jsx("div",{className:"container-xl",children:e.jsx("div",{className:"row g-2 align-items-center",children:e.jsx("div",{className:"col",children:e.jsx("h2",{className:"page-title",children:"Create a new Centre"})})})})}),e.jsx("div",{className:"page-body",children:e.jsx("div",{className:"container-xl",children:e.jsx("div",{className:"card",children:e.jsxs("div",{className:"row g-0",children:[e.jsx("div",{className:"col-12 col-md-2 border-end",children:e.jsxs("div",{className:"card-body",children:[e.jsx("h4",{className:"subheader",children:"Centre settings"}),e.jsxs("div",{className:"list-group list-group-transparent",children:[e.jsx("a",{href:"#",className:"list-group-item list-group-item-action d-flex align-items-center",onClick:s=>h(s,"basic-information"),children:"Basic Information"}),e.jsx("a",{href:"#",className:"list-group-item list-group-item-action d-flex align-items-center",onClick:s=>h(s,"users"),children:"Centre Staff"}),e.jsx("a",{href:"#",className:"list-group-item list-group-item-action d-flex align-items-center",onClick:s=>h(s,"modules"),children:"Centre Lab Modules"})]})]})}),e.jsxs("div",{className:"col-12 col-md-10 d-flex flex-column",children:[e.jsxs("div",{className:"card-body",id:"basic-information",children:[e.jsx("h3",{className:"card-title",children:"Logo"}),e.jsx("div",{className:"row align-items-center",children:e.jsx("div",{className:"col-auto",children:e.jsx("input",{className:"form-control",type:"file",name:"logo",onChange:N})})}),e.jsx("h3",{className:"card-title mt-4",children:"Information"}),e.jsxs("div",{className:"row mb-3",children:[e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Name"}),e.jsx("input",{type:"text",className:"form-control",value:t.name,name:"name",onChange:n})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Centre Code"}),e.jsx("input",{type:"text",className:"form-control",value:t.code,name:"code",onChange:n})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Fax No."}),e.jsx("input",{type:"text",className:"form-control",value:t.fax,name:"fax",onChange:n})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Phone"}),e.jsx("input",{type:"text",className:"form-control",value:t.phone,name:"phone",onChange:n})]})]}),e.jsxs("div",{className:"row g-3",children:[e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Email Address"}),e.jsx("input",{type:"email",className:"form-control",value:t.email,name:"email",onChange:n})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"City"}),e.jsx("input",{type:"text",className:"form-control",value:t.city,name:"city",onChange:n})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Country"}),e.jsx("input",{type:"text",className:"form-control",value:t.country,name:"country",onChange:n})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Address"}),e.jsx("textarea",{className:"form-control",onChange:n,name:"address",children:t.address})]})]})]}),e.jsxs("div",{className:"card-body",id:"users",style:{display:"none"},children:[e.jsxs("div",{className:"row mb-3",children:[e.jsx("h3",{className:"card-title",style:{float:"left",width:"90%"},children:"Centre Staff"}),e.jsx("a",{href:"#",type:"button",className:"btn btn-sm btn-success",style:{float:"right",width:"5%"},onClick:g,children:e.jsx(I,{})}),e.jsx("div",{style:{clear:"both"}})]}),c.map((s,a)=>e.jsxs("div",{className:"row mb-3",children:[e.jsx("div",{className:"col-sm",style:{display:"flex",alignItems:"end"},children:e.jsx("button",{type:"button",className:"btn btn-md btn-danger",onClick:()=>y(s.id),children:e.jsx(S,{})})}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Username"}),e.jsx("input",{type:"text",className:"form-control",name:"username",value:s.username,onChange:l=>x(l,"username",s.id)})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Password"}),e.jsx("input",{type:"password",className:"form-control",name:"password",value:s.password,onChange:l=>x(l,"password",s.id)})]}),e.jsxs("div",{className:"col-md",children:[e.jsx("div",{className:"form-label",children:"Role"}),e.jsxs("select",{class:"form-select",name:"role",onChange:l=>x(l,"role",s.id),children:[e.jsx("option",{value:"Admin",children:"Admin"}),e.jsx("option",{value:"Staff",selected:!0,children:"Staff"})]})]})]},a))]}),e.jsxs("div",{className:"card-body",id:"modules",style:{display:"none"},children:[e.jsx("h3",{className:"card-title",children:"Centre Lab Modules"}),e.jsx("hr",{}),t.modules.map((s,a)=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"col-md-5 m-3",style:{display:"inline-flex",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("div",{className:"form-label",children:s==null?void 0:s.title}),e.jsx("div",{className:"form-desc",children:s==null?void 0:s.description})]}),e.jsx("div",{children:e.jsxs("label",{className:"form-check form-switch",children:[e.jsx("input",{className:"form-check-input",type:"checkbox",id:`switch${a}`,name:`switch${a}`,checked:s.status,onChange:l=>b(l,s.id,a)}),e.jsx("span",{class:"form-check-label",id:`switchlabel${a}`,children:s!=null&&s.status?"On":"Off"})]})})]}),(a+1)%2==0?e.jsx("hr",{}):""]}))]}),e.jsx("div",{className:"card-footer bg-transparent mt-auto",children:e.jsxs("div",{className:"btn-list justify-content-end",children:[e.jsx("a",{href:route("centres.index"),className:"btn",children:"Cancel"}),e.jsx("a",{href:"#",className:"btn btn-primary",type:"button",onClick:v,disabled:p,children:"Submit"})]})})]})]})})})})]})}export{$ as default};
